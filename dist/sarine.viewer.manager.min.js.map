{"version":3,"sources":["sarine.viewer.manager.js"],"names":["ViewerManger","option","fromTag","toTag","stoneViews","template","jsons","logicRoot","templateContainers","window","cacheVersion","configuration","initLocalStorage","initTemplatesMapper","initTemplates","viewersBaseUrl","jsonsAll","allViewresList","viewers","this","bind","loadTemplate","bindElementToSelector","addViewer","configurationToTemplateMapper","experiencesList","findAttribute","getAllTemplates","getPath","getTemplateLists","getTemplateMapperByConfigName","iconsList","infoPopupsList","jsonsAllObj","logicPath","popupInfoMapper","recurse","prototype","Error","src","arr","split","pop","join","type","Storage","localStorage","getItem","setItem","allTemplates","templates","icons","infoPopups","sarineViewerTemplatesMapping","mapper","getMapper","selector","arrDefer","defer","$","Deferred","document","viewersList","JSON","parse","stringify","find","each","_this","i","v","active","attr","coordinates","menu","order","toElement","_i","_len","_ref","attributes","length","data","name","value","version","id","addClass","replaceWith","push","$el","date","format","indexOf","text","report","moment","utc","when","apply","then","resolve","o","props","shift","obj","ns","exp","ret","templateVersion","atom","infos","hasOwnProperty","iconName","icon","NaN","parseInt","templateName","lightReportViewer","experience","toString","page","infosIndex","sarineViewerTemplates","experiences","key","templateMap","infoName","trigger","callbackPic","path","s","url","ajaxSetup","async","getJSON","d","replace","instance","args","imagesArr","location","hash","appendTo","end","onload","inst","eval","extend","element","stoneProperties","baseUrl","getViewers","sortByOrder","viewersArr","forEach","filter","init_list","list","method","current","pmId","_list","_method","_t","Id","first_init","full_init","stop","play","call"],"mappings":"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","file":"sarine.viewer.manager.min.js"}