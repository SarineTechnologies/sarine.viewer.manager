{"version":3,"file":"sarine.viewer.manager.min.js","sources":["sarine.viewer.manager.js"],"names":["ViewerManger","option","fromTag","toTag","stoneViews","template","jsons","logicRoot","window","cacheVersion","configuration","initLocalStorage","viewersBaseUrl","jsonsAll","allViewresList","viewers","this","bind","loadTemplate","bindElementToSelector","addViewer","existInConfig","findAttribute","getPath","jsonsAllObj","logicPath","recurse","prototype","Error","src","arr","split","pop","join","type","Storage","localStorage","getItem","setItem","selector","arrDefer","defer","_t","$","Deferred","document","viewersList","JSON","parse","stringify","find","each","_this","i","v","active","attr","coordinates","menu","order","toElement","_i","_len","_ref","attributes","length","data","name","value","version","id","addClass","replaceWith","push","$el","text","when","apply","then","resolve","o","props","shift","obj","ns","deferArr","scripts","load","a","b","c","prepend","filter","tagName","replace","location","origin","pathname","indexOf","hash","getScript","append","remove","href","trigger","experiences","atom","callbackPic","path","s","url","ajaxSetup","async","getJSON","d","instance","args","imagesArr","appendTo","end","onload","inst","eval","extend","element","stoneProperties","baseUrl","getViewers","sortByOrder","viewersArr","forEach","init_list","list","method","current","pmId","_list","_method","Id","first_init","full_init","stop","play","call"],"mappings":"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"}