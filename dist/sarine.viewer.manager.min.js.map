{"version":3,"sources":["sarine.viewer.manager.js"],"names":["ViewerManger","option","fromTag","toTag","stoneViews","template","jsons","logicRoot","templateContainers","window","cacheVersion","configuration","initLocalStorage","initTemplatesMapper","initTemplates","viewersBaseUrl","jsonsAll","allViewresList","viewers","this","bind","loadTemplate","bindElementToSelector","addViewer","configurationToTemplateMapper","experiencesList","findAttribute","getAllTemplates","getPath","getTemplateLists","getTemplateMapperByConfigName","iconsList","infoPopupsList","jsonsAllObj","logicPath","popupInfoMapper","recurse","prototype","Error","src","arr","split","pop","join","type","Storage","localStorage","getItem","setItem","allTemplates","templates","icons","infoPopups","sarineViewerTemplatesMapping","mapper","getMapper","selector","arrDefer","defer","$","Deferred","document","viewersList","JSON","parse","stringify","find","each","_this","i","v","active","attr","coordinates","menu","order","popup","toElement","_i","_len","_ref","attributes","length","data","name","value","version","id","mode","addClass","replaceWith","push","$el","text","item","key","mapObj","gradeScales","replace","filter","hasClass","date","format","indexOf","report","moment","utc","when","apply","then","resolve","o","props","shift","obj","ns","exp","ret","templateVersion","atom","infos","hasOwnProperty","iconName","icon","NaN","parseInt","templateName","lightReportViewer","experience","toString","page","infosIndex","sarineViewerTemplates","experiences","templateMap","infoName","trigger","atomVersion","callbackPic","path","s","url","ajaxSetup","async","atomsConfiguration","getJSON","jsondata","instance","args","imagesArr","location","hash","appendTo","end","onload","inst","eval","extend","element","stoneProperties","baseUrl","getViewers","sortByOrder","viewersArr","forEach","init_list","list","method","current","pmId","_list","_method","_t","Id","first_init","full_init","stop","play","call"],"mappings":"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","file":"sarine.viewer.manager.min.js"}