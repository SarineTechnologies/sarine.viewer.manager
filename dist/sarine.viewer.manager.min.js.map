{"version":3,"sources":["sarine.viewer.manager.js"],"names":["ViewerManger","option","fromTag","toTag","stoneViews","template","jsons","logicRoot","templateContainers","window","cacheVersion","configuration","initLocalStorage","initTemplatesMapper","initTemplates","viewersBaseUrl","jsonsAll","allViewresList","viewers","this","bind","loadTemplate","bindElementToSelector","addViewer","configurationToTemplateMapper","experiencesList","findAttribute","getAllTemplates","getPath","getTemplateLists","getTemplateMapperByConfigName","iconsList","infoPopupsList","jsonsAllObj","logicPath","popupInfoMapper","recurse","prototype","Error","src","arr","split","pop","join","type","Storage","localStorage","getItem","setItem","allTemplates","templates","icons","infoPopups","sarineViewerTemplatesMapping","mapper","getMapper","selector","arrDefer","defer","$","Deferred","document","viewersList","JSON","parse","stringify","find","each","_this","i","v","active","attr","coordinates","exp","order","popup","toElement","_i","_len","_ref","experiences","filter","atom","length","attributes","data","name","value","version","id","mode","addClass","replaceWith","push","$el","text","item","key","mapObj","gradeScales","replace","hasClass","date","format","indexOf","report","moment","utc","when","apply","then","resolve","o","props","shift","obj","ns","ret","templateVersion","infos","hasOwnProperty","iconName","icon","NaN","parseInt","templateName","lightReportViewer","experience","toString","page","infosIndex","sarineViewerTemplates","templateMap","infoName","trigger","atomVersion","callbackPic","path","s","url","ajaxSetup","async","atomsConfiguration","getJSON","jsondata","instance","args","imagesArr","location","hash","appendTo","end","onload","inst","eval","extend","element","stoneProperties","baseUrl","getViewers","sortByOrder","viewersArr","forEach","init_list","list","method","current","pmId","_list","_method","_t","Id","first_init","full_init","stop","play","call"],"mappings":"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","file":"sarine.viewer.manager.min.js"}