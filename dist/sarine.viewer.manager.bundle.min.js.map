{"version":3,"sources":["sarine.viewer.manager.bundle.js"],"names":["ViewerManger","option","fromTag","toTag","stoneViews","template","jsons","logicRoot","templateContainers","window","cacheVersion","configuration","initLocalStorage","initTemplatesMapper","initTemplates","viewersBaseUrl","jsonsAll","allViewresList","viewers","this","bind","loadTemplate","bindElementToSelector","addViewer","configurationToTemplateMapper","existInConfig","experiencesList","findAttribute","getAllTemplates","getPath","getTemplateLists","getTemplateMapperByConfigName","iconsList","infoPopupsList","jsonsAllObj","logicPath","popupInfoMapper","recurse","prototype","Error","src","arr","split","pop","join","type","Storage","localStorage","getItem","setItem","allTemplates","templates","icons","infoPopups","sarineViewerTemplatesMapping","mapper","getMapper","selector","arrDefer","defer","$","Deferred","document","viewersList","JSON","parse","stringify","find","each","_this","i","v","active","attr","coordinates","menu","order","toElement","_i","_len","_ref","attributes","length","data","name","value","version","id","addClass","replaceWith","push","$el","text","item","key","mapObj","gradeScales","replace","filter","date","format","indexOf","report","moment","utc","when","apply","then","resolve","o","props","shift","obj","ns","exp","ret","templateVersion","atom","infos","hasOwnProperty","iconName","icon","NaN","parseInt","templateName","lightReportViewer","experience","toString","page","infosIndex","sarineViewerTemplates","experiences","templateMap","infoName","trigger","callbackPic","path","s","url","ajaxSetup","async","getJSON","d","instance","args","imagesArr","location","hash","appendTo","end","onload","inst","eval","extend","element","stoneProperties","baseUrl","getViewers","sortByOrder","viewersArr","forEach","init_list","list","method","current","pmId","_list","_method","_t","Id","first_init","full_init","stop","play","call"],"mappings":"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","file":"sarine.viewer.manager.bundle.min.js"}